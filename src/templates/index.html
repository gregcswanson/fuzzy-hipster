{{define "index"}}
{{template "header" .}}
<div class="container">
	<div class="row">
    <div class="col-xs-1">
      {{template "leftnavigation" .}}
    </div>
    <div class="col-xs-1">
      {{template "months" .Model.Year.Months}}
    </div>    
    <div class="col-xs-1">
      <div class="list-group left">
        {{range .Model.Month.Days}}
          <a href="/day/{{.DateAsString}}" class="list-group-item {{if .Selected}}active{{else if .HasOpenItems}}list-group-item-warning{{else if .HasItems}}list-group-item-info{{end}}">{{.Display}}</a>
        {{end}}
      </div>
    </div>
		<div class="col-md-offset-2 col-xs-7">
			<h2 class="text-center">{{.Model.DateDisplay}}</h2>
			{{range .Model.DayItems}}
				{{if eq .Status "NOTE"}}
      					<div class='well well-sm'>
        					<a href="/day/{{.Day}}/item/{{.ID}}"><i>{{.Text}}</i></a>
      					</div>
    			{{else}}
              <form action="/day/{{.Day}}/item/{{.ID}}/toggle" method="POST" style="display: inline;">
                <button class="btn" type="submit">
                  {{if eq .Status "OPEN"}}
                    <span>&#9744</span>
                  {{else if eq .Status "DONE"}}
                    <span>&#10003</span>
                  {{else if eq .Status "CANCELLED"}}
                    <span>&#10007</span>
                  {{end}}
                </button>
              </form>
      					<a href="/day/{{.Day}}/item/{{.ID}}">
        					&nbsp;{{.Text}}
      					</a>
    				{{end}}
			{{end}}
  <hr />
  <form method="POST"> 
        <input 
            placeholder='start with / for note or . for check item'  
            name='newItemText' id='newItemText'
            class='form-control'>
  </form>
  <hr />
    <div class='well'>
      <h4>To Do</h4>
      <ol>
        <li>Progressive Enhancement: Click to update type, check on change of text</li>
      </ol>
  </div>
</div>
{{template "footer" .}}
{{end}}